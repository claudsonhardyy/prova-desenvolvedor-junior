import{a as j,u as f,r as N,j as e,L as v,b as k}from"./app-DajWqx7P.js";import{A as w}from"./AuthenticatedLayout-B89njRoL.js";import{I as c}from"./InputLabel-UBJV3k-j.js";import{I as m}from"./InputError-jmxB1WEc.js";import"./LogoIesb-CfR9EmXw.js";function I({auth:C,disciplinas:d}){const{props:x}=j(),n=x.flash||{},{data:r,setData:s,post:g,put:h,reset:i,errors:l}=f({id:null,nome:"",codigo:"",carga_horaria:"",ativa:!0}),[t,o]=N.useState(!1),u=a=>{a.preventDefault(),t?h(route("disciplinas.update",r.id),{onSuccess:()=>{i(),o(!1)}}):g(route("disciplinas.store"),{onSuccess:()=>i()})},p=a=>{s({id:a.id,nome:a.nome,codigo:a.codigo,carga_horaria:a.carga_horaria,ativa:a.ativa}),o(!0)},y=a=>{confirm("Tem certeza que deseja excluir esta disciplina?")&&k.delete(route("disciplinas.destroy",a))};return e.jsx(w,{header:e.jsx("h2",{className:"font-semibold text-xl text-text-light dark:text-text-dark leading-tight",children:"Disciplinas"}),children:e.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-8 space-y-8",children:[n.success&&e.jsx("div",{className:"rounded-md bg-green-50 dark:bg-green-900/30 text-green-800 dark:text-green-200 px-4 py-3",children:n.success}),e.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t?"Editar Disciplina":"Nova Disciplina"}),e.jsxs("form",{onSubmit:u,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{htmlFor:"nome",value:"Nome"}),e.jsx("input",{id:"nome",value:r.nome,onChange:a=>s("nome",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm",required:!0}),e.jsx(m,{message:l.nome,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"codigo",value:"Código"}),e.jsx("input",{id:"codigo",value:r.codigo,onChange:a=>s("codigo",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm",required:!0}),e.jsx(m,{message:l.codigo,className:"mt-2"})]}),e.jsxs("div",{children:[e.jsx(c,{htmlFor:"carga_horaria",value:"Carga Horária"}),e.jsx("input",{id:"carga_horaria",type:"number",value:r.carga_horaria,onChange:a=>s("carga_horaria",a.target.value),className:"mt-1 block w-full rounded-md border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 focus:border-primary focus:ring-primary sm:text-sm",required:!0}),e.jsx(m,{message:l.carga_horaria,className:"mt-2"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"ativa",type:"checkbox",checked:r.ativa,onChange:a=>s("ativa",a.target.checked),className:"h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded"}),e.jsx("label",{htmlFor:"ativa",className:"ml-2 text-sm",children:"Ativa"})]}),e.jsxs("div",{className:"sm:col-span-2 flex gap-3",children:[e.jsx("button",{type:"submit",className:"bg-primary hover:bg-primary-dark text-white px-4 py-2 rounded-md transition",children:t?"Atualizar":"Salvar"}),t&&e.jsx("button",{type:"button",onClick:()=>{i(),o(!1)},className:"bg-gray-300 dark:bg-gray-700 text-gray-800 dark:text-gray-100 px-4 py-2 rounded-md",children:"Cancelar"})]})]})]}),e.jsxs("div",{className:"bg-surface-light dark:bg-surface-dark shadow rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Lista de Disciplinas"}),d.data.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"custom-scroll max-h-[420px] overflow-y-auto rounded-md border border-gray-200 dark:border-gray-700",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-white dark:bg-gray-800 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"Nome"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"Código"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"Carga Horária"}),e.jsx("th",{className:"px-4 py-2 text-left text-sm font-semibold",children:"Ativa"}),e.jsx("th",{className:"px-4 py-2"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:d.data.map(a=>e.jsxs("tr",{className:"odd:bg-gray-50 dark:odd:bg-gray-800/50",children:[e.jsx("td",{className:"px-4 py-2 text-sm",children:a.nome}),e.jsx("td",{className:"px-4 py-2 text-sm",children:a.codigo}),e.jsxs("td",{className:"px-4 py-2 text-sm",children:[a.carga_horaria,"h"]}),e.jsx("td",{className:"px-4 py-2 text-sm",children:a.ativa?"Sim":"Não"}),e.jsxs("td",{className:"px-4 py-2 flex gap-2 justify-end",children:[e.jsx("button",{onClick:()=>p(a),className:"text-sm px-3 py-1 rounded bg-primary text-white hover:bg-primary-dark",children:"Editar"}),e.jsx("button",{onClick:()=>y(a.id),className:"text-sm px-3 py-1 rounded bg-red-600 text-white hover:bg-red-700",children:"Excluir"})]})]},a.id))})]})}),e.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:d.links.map((a,b)=>e.jsx(v,{href:a.url||"#",dangerouslySetInnerHTML:{__html:a.label},className:`px-3 py-1 rounded border ${a.active?"bg-primary text-white border-primary":"bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 border-gray-300 dark:border-gray-600"}`},b))})]}):e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nenhuma disciplina cadastrada."})]})]})})}export{I as default};
